<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador de Densidades</title>
  <link rel="stylesheet" href="/static/styles/style.css">
</head>

<body>

  <!-- Encabezado con menu despegable -->
  <div class = "encabezado text-center">
    <img src="/static/recursos/lapiz.png" alt = "Logo" class ="logo">
    <h1 style="text-align: center;">Simulador de Densidades</h1>
    
  </div>

  

  <div class="container">

    
    <!-- Navegación lateral -->
    <nav class="sidebar">
      <div class="sidebar-title">Distribuciones</div>
      <button class="nav-item active" data-distribution="bernoulli">Bernoulli</button>
      <button class="nav-item" data-distribution="binomial">Binomial</button>
      <button class="nav-item" data-distribution="multinomial">Multinomial</button>
      <button class="nav-item" data-distribution="exponencial">Exponencial</button>
      <button class="nav-item" data-distribution="normal">Normal</button>
      <button class="nav-item" data-distribution="gibbs">Método de Gibbs</button>
      <button class="nav-item" data-distribution="normal-bivariada">Normal Bivariada</button>
    </nav>

    <!-- Contenido principal -->
    <div class="main-content">
      <!-- Panel de resultados -->
      <div class="results-panel">
        <div class="results-header">
          <h3>Resultados</h3>
          <button class="btn">Descargar CSV</button>
        </div>
        <div class="results-content">
          <p>¡Aquí podrás observar los resultados de la simulación!</p>
        </div>
      </div>

      <!-- Panel de simulación -->
      <div class="simulation-panel">
        <h2 class="panel-title" id="panelTitle">Distribución de Bernoulli</h2>

        <!-- Contenido  Bernu -->
        <div class="distribution-content active" id="bernoulli">
          <div class="inputs-section">
            <div class="input-group">
              <label for="bernoulli-p">Probabilidad de éxito (p):</label>
              <input type="number" id="bernoulli-p" min="0" max="1" step="0.01" value="0.5">
            </div>
            <div class="input-group">
              <label for="bernoulli-n">Número de simulaciones:</label>
              <input type="number" id="bernoulli-n" min="1" value="1000">
            </div>
          </div>
          <div class="buttons-section">
            <button class="btn-primary">Simular</button>
            <button class="btn-primary">Limpiar</button>
          </div>
        </div>

        <!-- Contenido para Binomial -->
        <div class="distribution-content" id="binomial">
          <div class="inputs-section">
            <div class="input-group">
              <label for="binomial-n">Número de ensayos (n):</label>
              <input type="number" id="binomial-n" min="1" value="10">
            </div>
            <div class="input-group">
              <label for="binomial-p">Probabilidad de éxito (p):</label>
              <input type="number" id="binomial-p" min="0" max="1" step="0.01" value="0.5">
            </div>
            <div class="input-group">
              <label for="binomial-sims">Número de simulaciones:</label>
              <input type="number" id="binomial-sims" min="1" value="1000">
            </div>
          </div>
          <div class="buttons-section">
            <button class="btn-primary">Simular</button>
            <button class="btn-primary">Limpiar</button>
          </div>
        </div>




        <!-- Contenido para Multinomial -->
        <div class="distribution-content" id="multinomial">
          
          <div class="tabs">
            <button class="tab-button active" onclick="cambiarTab('simulacion')">Simulación</button>
            <button class="tab-button" onclick="cambiarTab('probabilidad')">Multinomial</button>
          </div>
          
          <div id="simulacion" class="tab-content active">
            <h2>Simulación Multinomial</h2>
            <div class="inputs-section">
                <div class="input-group">
                    <label>Número de experimentos:</label>
                    <input type="number" id="n_experimentos" value="20" min="1" required>
                </div>

                <div class="input-group">
                    <label>Categorías (separadas por comas):</label>
                    <input type="text" id="categorias" value="A,B,C" required>
                </div>

                <div class="input-group">
                    <label>Probabilidades (separadas por comas):</label>
                    <input type="text" id="prob_sim_mult" value="0.3,0.5,0.2" required>
                    <small>Deben sumar 1.0</small>
                </div>

                <button type="submit" class="btn-primary">Simular</button>
            </div>

            <div id="resultado-simulacion" class="resultado" style="display: none;">
                <h3>Resultados de la Simulación</h3>
                <pre id="resultado_texto"></pre>
            </div>
        </div>

        <!-- Tab de Probabilidad Exacta -->
        <div id="probabilidad" class="tab-content">
            <h2>Cálculo de Probabilidad Exacta</h2>
            <div class="inputs-section">
                <div class="input-group">
                    <label>Número de experimentos:</label>
                    <input type="number" id="n_experimentos_prob" value="10" min="1" required>
                </div>

                <div class="input-group">
                    <label>Categorías (separadas por comas):</label>
                    <input type="text" id="categorias_prob" value="A,B,C" required>
                </div>

                <div class="input-group">
                    <label>Probabilidades (separadas por comas):</label>
                    <input type="text" id="probabilidades_prob" value="0.3,0.5,0.2" required>
                    <small>Deben sumar 1.0</small>
                </div>

                <div class="input-group">
                    <label>Frecuencias deseadas (separadas por comas):</label>
                    <input type="text" id="frecuencias_deseadas" value="3,5,2" required>
                    <small>Deben sumar el número total de experimentos</small>
                </div>

                <div>
                    <button type="submit" id="btn-proba" class="btn-proba">Simular</button>
                    <button type="submit" id="btn-verif" class="btn-verif">Verificar</button>
                </div>
            </div>

            <div id="resultado-probabilidad" class="resultado" style="display: none;">
                <h3>Cálculo Detallado</h3>
                <div id="calculo-detallado"></div>
                
                <h3>Interpretación</h3>
                <div id="interpretacion"></div>
            </div>

            <div id="resultado-verificacion" class="resultado" style="display: none;">
                <h3>Verificación por Simulación</h3>
                <div id="verificacion-detalle"></div>
            </div>

            
        </div>


        </div>

        <!-- Contenido para Exponencial -->
        <div class="distribution-content" id="exponencial">
          <div class="inputs-section">
            <div class="input-group">
              <label for="exponencial-lambda">Parámetro λ (lambda):</label>
              <input type="number" id="exponencial-lambda" min="0.01" step="0.01" value="1">
            </div>
            <div class="input-group">
              <label for="exponencial-n">Número de simulaciones:</label>
              <input type="number" id="exponencial-n" min="1" value="1000">
            </div>
          </div>
          <div class="buttons-section">
            <button class="btn-primary">Simular</button>
            <button class="btn-primary">Limpiar</button>
          </div>
        </div>

        <!-- Contenido para Normal -->
        <div class="distribution-content" id="normal">
          <div class="inputs-section">
            <div class="input-group">
              <label for="normal-mu">Media (μ):</label>
              <input type="number" id="normal-mu" step="0.01" value="0">
            </div>
            <div class="input-group">
              <label for="normal-sigma">Desviación estándar (σ):</label>
              <input type="number" id="normal-sigma" min="0.01" step="0.01" value="1">
            </div>
            <div class="input-group">
              <label for="normal-n">Número de simulaciones:</label>
              <input type="number" id="normal-n" min="1" value="1000">
            </div>
          </div>
          <div class="buttons-section">
            <button class="btn-primary">Simular</button>
            <button class="btn-primary">Limpiar</button>
          </div>
        </div>

        <!-- Contenido para Método de Gibbs -->
        <div class="distribution-content" id="gibbs">
          <div class="inputs-section">
             <div class="input-group">
              <label for="limite_inf">Limite inferior:</label>
              <input type="number" id="limite_inf" value="0">
            </div>
            <div class="input-group">
              <label for="limite_sup">Limite superior:</label>
              <input type="number" id="limite_sup" value="2">
            </div>
            <div class="input-group">
              <label for="x0">X:</label>
              <input type="number" id="x0" value="0">
            </div>
            <div class="input-group">
              <label for="y0">Y:</label>
              <input type="number" id="y0" value="0">
            </div>
            <div class="input-group">
              <label for="gibbs-iterations">Número de esperimentos:</label>
              <input type="number" id="gibbs-iterations" min="0" value="1000">
            </div>
            <div class="input-group">
              <label for="gibbs-burnin">Período de calentamiento:</label>
              <input type="number" id="gibbs-burnin" min="0" value="100">
            </div>
          </div>
          <div class="buttons-section">
            <button class="btn-primary">Simular</button>
            <button class="btn-primary">Limpiar</button>
          </div>
        </div>

        <div class="distribution-content" id="normal-bivariada">
          <div class="inputs-section">
            <div class="input-group">
              <label for="bivariada-mu-x">Media X (μₓ):</label>
              <input type="number" id="bivariada-mu-x" step="0.1" value="0">
            </div>
            <div class="input-group">
              <label for="bivariada-mu-y">Media Y (μᵧ):</label>
              <input type="number" id="bivariada-mu-y" step="0.1" value="0">
            </div>
            <div class="input-group">
              <label for="bivariada-sigma-x">Desviación X (σₓ):</label>
              <input type="number" id="bivariada-sigma-x" min="0.01" step="0.1" value="1">
            </div>
            <div class="input-group">
              <label for="bivariada-sigma-y">Desviación Y (σᵧ):</label>
              <input type="number" id="bivariada-sigma-y" min="0.01" step="0.1" value="1">
            </div>
            <div class="input-group">
              <label for="bivariada-rho">Correlación (ρ):</label>
              <input type="number" id="bivariada-rho" min="-1" max="1" step="0.1" value="0.5">
              <small>Valor entre -1 y 1</small>
            </div>
            <div class="input-group">
              <label for="bivariada-n">Número de simulaciones:</label>
              <input type="number" id="bivariada-n" min="100" value="1000">
            </div>
          </div>
          <div class="buttons-section">
            <button class="btn-primary">Simular</button>
            <button class="btn-primary">Limpiar</button>
          </div>
        </div>

        <!-- Sección de gráfica -->
        <div class="chart-section" id="chart" style="height: 400px; margin-top: 20px;">
          <div class="chart-placeholder">
            📈 Selecciona una distribución y ajusta los parámetros para generar la gráfica
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Librerías necesarias -->
  <script src="https://cdn.plot.ly/plotly-3.1.0.min.js"></script>

  <!-- Script -->
  <script src="/static/js/simulador.js"></script>
  
</body>
</html>
